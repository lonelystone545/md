# ABA问题
比如用户扣减额度的行为。用户现在额度是1000，在两个客户端并发下单各自需要扣减100，操作时会把额度1000拿到内存中，然后做操作，最后再更新数据库，更新的条件是amount=1000，客户端1更新900成功，此时该用户的还款的100处理完成，加上对应的额度最后为1000元，则客户端2更新900也成功了，这就是ABA问题，但是这种场景下的ABA是安全的。

比如一个栈的操作，当斩顶元素还是A1的时候更新为A2，表明这个栈没有发生变化，但是如果此时另外一个线程执行一系列的入栈和出栈的操作，最后把A1入栈，那么之前的线程依然以为栈没有发生变化，还是会变更为A2，这个就是有问题了。