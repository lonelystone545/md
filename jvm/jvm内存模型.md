![](media/15615423832935.jpg)

一般来说，堆和栈的生长方向是不同的，是为了最大程度的利用内存空间。一个从低地址向上增长，一个从高地址向下增长。如果都是朝一个方向增长的话，那么堆和栈需要有一个分界线，这个分界不好控制。
堆是向上生长的，栈是向下生长的。人们对数据的访问是习惯向上的，比如new一个数组，低位元素是放在低地址，高位元素是放在高地址，所以堆向上生长比较符合习惯。而栈对方向不敏感，只有入栈和出栈的操作，无所谓向上还是向下。
51单片机只有栈，所以栈是向上生长。
ARM对栈同时支持向上和向下生长。

# JDK8的变化

# 元数据空间如何回收